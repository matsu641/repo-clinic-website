<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>くわばら整形外科</title>

    <!-- CSS -->
    <link rel="stylesheet" href="style.css">
    <!-- Swiper.js（スライドショー用） -->
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css">
</head>
<body>
    <!-- ヘッダー -->
    <header>
        <div class="logo">
            <h1>くわばら整形外科</h1>
            <p class="tel">TEL: 0279-25-8855</p>
        </div>
        <nav>
            <ul>
                <li class="tab active" data-tab="home">ホーム</li>
                <li class="tab" data-tab="about">診療案内</li>
                <li class="tab" data-tab="rihab">リハビリ</li>
                <li class="tab" data-tab="access">アクセス</li>
            </ul>
        </nav>
    </header>

    <!-- コンテンツエリア -->
    <main>
        <!-- ホーム（スライドショー） -->
        <section id="home" class="tab-content active">
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    <div class="swiper-slide">
                        <img src="images/clinic.jpg" alt="スライド1">
                        <div class="slide-caption">
                            <h2>安心の医療で</h2>
                            <h2>皆様を支えます</h2>
                            <p>地域に根差したクリニック</p>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <img src="images/clinic2.jpg" alt="スライド2">
                        <div class="slide-caption">
                            <h2>体の再生と機能回復をサポート</h2>
                            <p>快適な診療環境を提供します</p>
                        </div>
                    </div>
                    <div class="swiper-slide">
                        <img src="images/clinic3.jpg" alt="スライド3">
                        <div class="slide-caption">
                            <h2>患者さんに寄り添った</h2>
                            <h2>回復プログラム</h2>
                            <p>いつでもお気軽にご相談ください</p>
                        </div>
                    </div>
                </div>
                <div class="swiper-pagination"></div>
            </div>

            <div class="other">
                <h2>診療科目</h2>
                <ul>
                    <li>リウマチ科</li>
                    <li>整形外科</li>
                    <li>リハビリテーション科</li>
                </ul>
                <br>
                <h2>診療時間</h2>
                <table>
                    <tr>
                        <th>曜日</th>
                        <th>午前</th>
                        <th>午後</th>
                    </tr>
                    <tr>
                        <td>月〜金</td>
                        <td>8:00 - 12:00</td>
                        <td>14:50 - 19:00</td>
                    </tr>
                    <tr>
                        <td>土</td>
                        <td>8:00 - 12:00</td>
                        <td>14:00 - 17:00</td>
                    </tr>
                    <tr>
                        <td>休診日</td>
                        <td colspan="2">木曜日、祝祭日</td>
                    </tr>
                </table>

             
                <br>
                <p>当院では、予約された患者様を優先的に診察しておりますが、予約をされていない場合でも対応させていただきます。</p>
                
                <p>どうぞお気軽にご来院ください。</p>
                <br>
                <h2>お願い</h2>
                <ul>
                    <li>アイドリング駐車は近隣の迷惑になるのでおやめください</li>
                    <li>駐車場前の道路での停車は、渋滞の原因となるためご遠慮いただき、速やかに駐車場内へお入りください。</li>
                    <li>院内での携帯電話の利用はご遠慮ください</li>
                </ul>
                <br>
                <h2>お知らせ</h2>
                <ul>
                    <li>お知らせは今現在ありません。</li>
                    <br>
                </ul>
                <br>
            </div>
        </section>

        <!-- 診療案内（院長紹介と院内紹介） -->
        <section id="about" class="tab-content">
            <h2>院長紹介</h2>
            <div class="director">
                <img src="images/tipapa.jpg" alt="院長写真">
                <li>〇〇年　金沢大学医学部医学科卒業</li>
                <li>〇〇年　整形外科専門医資格取得</li>
            </div>

            <h2>院内の紹介</h2>
            <div class="facility-gallery">
                <div class="facility1">
                    <h3> 受付 </h3>
                    <img src="images/reception.jpg" alt="受付">
                    
                </div>
                <div class="facility2">
                    <h3> 待合室 </h3>
                    <img src="images/waitingroom.jpg" alt="待合室">
                    
                </div>
            </div>
        </section>

        <!-- リハビリ -->
        <section id="rihab" class="tab-content" style="text-align: center;">
            <div class="facility" style="display: flex; flex-direction: column; align-items: center;">
                <img src="images/rehab.jpg" alt="リハビリ室" style="max-width: 80%;">
                
                <h2>リハビリで使用する医療機器と適応症状</h2>
                <div class="rehab-container">

                    <!-- 体外衝撃波治療 -->
                    <div class="rehab-card">
                        <h3>体外衝撃波治療（ESWT）</h3>
                        <p>圧力波を使って</p>
                        <p>痛みのある部分の回復を早めます。</p>
                        <p>手術なしで傷跡が残りません。</p>
                        <strong>適応症状:</strong>
                        <ul>
                            <li>足底筋膜炎（かかとの痛み）</li>
                            <li>テニス肘・ゴルフ肘</li>
                            <li>石灰沈着性腱板炎（肩の痛み）</li>
                            <li>アキレス腱炎、ジャンパー膝</li>
                            <li>慢性的な筋・腱の痛み</li>
                        </ul>
                    </div>
        
                    <!-- 干渉波治療 -->
                    <div class="rehab-card">
                        <h3>干渉波治療</h3>
                        <p>低周波の電気刺激で</p>
                        <p>筋肉や神経をほぐし、</p>
                        <p>血流を促進します。</p>
                        <strong>適応症状:</strong>
                        <ul>
                            <li>肩こり・腰痛</li>
                            <li>坐骨神経痛</li>
                            <li>首や肩のしびれ</li>
                            <li>関節リウマチの痛み</li>
                            <li>慢性的な神経痛</li>
                        </ul>
                    </div>
        
                    <!-- 超音波治療 -->
                    <div class="rehab-card">
                        <h3>超音波治療</h3>
                        <p>超音波の振動を使って</p>
                        <p>筋肉や靭帯を温め、</p>
                        <p>血流を改善する治療法です。</p>

                        <strong>適応症状:</strong>
                        <ul>
                            <li>ぎっくり腰</li>
                            <li>捻挫・肉離れ</li>
                            <li>肩・膝の痛み</li>
                            <li>スポーツによる筋肉・腱の損傷</li>
                        </ul>
                    </div>
        
                    <!-- 牽引治療 -->
                    <div class="rehab-card">
                        <h3>頚椎・腰椎牽引療法</h3>
                        <p>首や腰をゆっくり引っ張ることで、</p>
                        <p>神経の圧迫を軽減し、</p>
                        <p>痛みやしびれを和らげます。</p>
                        <strong>適応症状:</strong>
                        <ul>
                            <li>頚椎症（首のこり・痛み）</li>
                            <li>腰の痛み、足の痺れ</li>
                            <li>坐骨神経痛</li>
                            <li>慢性的な腰痛</li>
                        </ul>
                    </div>
        
                    <!-- マイクロ波治療 -->
                    <div class="rehab-card">
                        <h3>マイクロ波治療</h3>
                        <p>電磁波で体の深部を温め、</p>
                        <p>血流を改善し、</p>
                        <p>筋肉の緊張を和らげます。</p>
                        <strong>適応症状:</strong>
                        <ul>
                            <li>慢性的な腰痛・肩こり</li>
                            <li>関節痛（膝・肘など）</li>
                            <li>筋肉の疲労</li>
                            <li>神経痛</li>
                        </ul>
                    </div>
        
                    <!-- ウォーターベッド -->
                    <div class="rehab-card">
                        <h3>ウォーターベッド</h3>
                        <p>水の力で全身をマッサージし、</p>
                        <p>血行を良くする機器です。</p>
                        <strong>適応症状:</strong>
                        <ul>
                            <li>全身の疲労・倦怠感</li>
                            <li>肩こり・腰痛</li>
                            <li>ストレス・不眠</li>
                            <li>足のむくみ</li>
                        </ul>
                    </div>
        
                    <!-- 骨折治療器 -->
                    <div class="rehab-card">
                        <h3>骨折治療器（超音波骨折治療）</h3>
                        <p>超音波で骨の回復を促進し、</p>
                        <p>骨のくっつきを早める治療法です。</p>
                        <strong>適応症状:</strong>
                        <ul>
                            <li>骨折</li>
                            <li>骨癒合が遅れている</li>
                            <li>スポーツの早期復帰を目指す治療</li>
                        </ul>
                    </div>
        
                </div>
            </div>
            <p>※ どの治療が適しているかは、診察の上で決定します。気になる症状があればご相談ください。</p>
            <p>※ また当院では理学療法士学生の実習を受け入れております。患者様にはご理解とご協力をお願い申し上げます。</p>
        </section>
        
        <!-- アクセス -->
        <section id="access" class="tab-content">
            <h2>アクセス</h2>

        <div class="access-container">
            <h3>🚗 車でお越しの方</h3>
            <ul>
                <li>群馬総社駅から <strong>約10分</strong></li>
                <li>八木原駅から <strong>約7分</strong></li>
            </ul>

            <h3>🚶 徒歩でお越しの方</h3>
            <ul>
                <li>吉岡温泉から <strong>徒歩7分</strong></li>
            </ul>

            <h3>🚌 バスでお越しの方</h3>
            <ul>
                <li>日本中央バス <strong>「くわばら整形外科前」</strong> 下車</li>
            </ul>
        </div>

            <p>住所: 〒370-3601 群馬県北群馬郡吉岡町漆原1179 </p>

            <div id="map">
                <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d12838.551242218142!2d139.0195979662896!3d36.44213971948205!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x601e8b278cc10bf7%3A0x51343a32dd6ffb7f!2z44GP44KP44Gw44KJ5pW05b2i5aSW56eR!5e0!3m2!1sja!2sca!4v1740875199113!5m2!1sja!2sca" width="80%" height="100%" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
            
            </div>
            
            <br>
        </section>
    </main>

    <footer>
        <p>© 2025 くわばら整形外科 All Rights Reserved.</p>
    </footer>

    <!-- チャットボットアイコン -->
    <!-- <div id="chatbot-icon">💭</div>-->

    <!-- チャットウィンドウ -->
    <div id="chat-window">
        <div id="chat-header">AIチャットボット</div>
        <div id="chat-body">
            <p><strong>AI:</strong> 以下の中から関連する質問を選択してください:</p>
            <ul id="category-list">
                <li class="category-option">診療時間・休診日に関する質問</li>
                <li class="category-option">予約・受付に関する質問</li>
                <li class="category-option">診療科・医療サービスに関する質問</li>
                <li class="category-option">診療内容に関する具体的な質問</li>
                <li class="category-option">施設に関する質問</li>
                <li class="category-option">お問い合わせに関する質問</li>
                <li class="category-option">保険に関する質問</li>
            </ul>
        </div>
        <div id="chat-footer">
            <input type="text" id="userInput" placeholder="具体的な質問を入力してください" disabled>
            <button id="sendButton" disabled>送信</button>
        </div>
    </div>

    <!-- Swiper.js -->
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>

    <!-- メインスクリプト（タブ切り替え＋チャットボット） -->
    <script>
    document.addEventListener("DOMContentLoaded", () => {
        // ▼▼ タブ切り替え処理 ▼▼
        const tabs = document.querySelectorAll(".tab");
        const contents = document.querySelectorAll(".tab-content");

        tabs.forEach(tab => {
            tab.addEventListener("click", () => {
                // すべてのタブから active クラスを外す
                tabs.forEach(t => t.classList.remove("active"));
                // クリックしたタブに active クラスを付与
                tab.classList.add("active");

                // すべてのコンテンツから active クラスを外す
                contents.forEach(content => content.classList.remove("active"));
                // タブの data-tab 属性に対応する要素を表示
                document.getElementById(tab.dataset.tab).classList.add("active");
            });
        });

        // ▼▼ Swiper.jsの初期化 ▼▼
        const swiper = new Swiper('.swiper-container', {
            loop: true,
            autoplay: {
                delay: 5000,
                disableOnInteraction: false,
            },
            pagination: {
                el: '.swiper-pagination',
                clickable: true,
            },
            // ナビゲーションが必要なら下記を追加
            // navigation: {
            //     nextEl: '.swiper-button-next',
            //     prevEl: '.swiper-button-prev',
            // },
        });

        // ▼▼ チャットボット用の変数と処理 ▼▼
        const apiKey = "YOUR_OPENAI_API_KEY";  // OpenAIのAPIキーを設定
        const chatbotIcon = document.getElementById("chatbot-icon");
        const chatWindow = document.getElementById("chat-window");
        const chatBody = document.getElementById("chat-body");
        const userInput = document.getElementById("userInput");
        const sendButton = document.getElementById("sendButton");
        const categoryList = document.getElementById("category-list");

        let selectedCategory = "";

        // アイコンをクリックするとチャットウィンドウを表示/非表示にする
        chatbotIcon.addEventListener("click", () => {
            chatWindow.style.display = (chatWindow.style.display === "none" || chatWindow.style.display === "") 
                                       ? "flex" 
                                       : "none";
        });

        // カテゴリーがクリックされたときの動作
        categoryList.addEventListener("click", (event) => {
            if (event.target.classList.contains("category-option")) {
                selectedCategory = event.target.innerText;
                // カテゴリー選択のメッセージを表示
                chatBody.innerHTML += `<p><strong>AI:</strong> 「${selectedCategory}」に関する質問ですね。具体的な質問を入力してください。</p>`;
                // 入力フォームと送信ボタンを有効化
                userInput.disabled = false;
                sendButton.disabled = false;
            }
        });

        // 送信ボタンがクリックされたときの動作
        sendButton.addEventListener("click", async () => {
            const userQuestion = userInput.value.trim();
            if (!userQuestion) return;

            // 質問をチャット画面に表示
            chatBody.innerHTML += `<p><strong>あなた:</strong> ${userQuestion}</p>`;
            userInput.value = "";

            // FAQ用のJSONファイルを読み込む
            // （「faq.json」は任意で用意してください）
            const response = await fetch("faq.json");
            const faqData = await response.json();

            // 質問と類似するものを検索
            let answer = "すみません、その質問にはまだ対応していません。";  // 初期メッセージ
            faqData.forEach(faq => {
                // カテゴリーと質問文が合致しているかどうかでチェック
                if (faq.category === selectedCategory && userQuestion.includes(faq.question)) {
                    answer = faq.answer;
                }
            });

            // 回答をチャット画面に表示
            chatBody.innerHTML += `<p><strong>AI:</strong> ${answer}</p>`;

            // チャット画面を自動でスクロール
            chatBody.scrollTop = chatBody.scrollHeight;
        });
    });
    </script>
</body>
</html>
